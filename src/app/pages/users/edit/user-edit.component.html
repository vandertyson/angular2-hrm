<div class="modal-dialog" role="document" style="box-shadow: 0px 3px 5px 0px rgba(0,0,0,0.75);">
    <div class="modal-content">      
      <div class="modal-header">
        <section class="content-header">
          <h1>
            Edit User
            <small>Edit user infomations</small>
          </h1>
          <ol class="breadcrumb">
            <li><a><i class="fa fa-dashboard"></i> Dashboard</a></li>
            <li><a>Users</a></li>
            <li class="active">Edit user</li>
          </ol>
        </section>
      </div>
      
      <div class="modal-body">
        <section class="content">
          <div class="row">
            <div class="box box-primary">
              <div class="box-header with-border">
                <h3 class="box-title">User Info</h3>
              </div>
              <!-- /.box-header -->
              <div class="box-body">
                <form role="form" id="userEditForm" [formGroup]="userEditForm"
                      (submit)="saveUserInfo($event)" autocomplete="false">
                  <input id="email" title="email" type="text" style="display:none">
                  <input id="password" title="password" type="password" style="display:none">
                  <div class="form-group">

                    <div class="attachment-block clearfix">
                      <img id="avatar" class="attachment-img" src='{{avatarLink}}' alt="User Avatar">

                      <div class="attachment-pushed">
                        <label for="exampleInputFile">Upload Avatar</label>
                        <input type="file" id="exampleInputFile" accept="image/*" (change)="avatarChange($event)">

                        <p class="help-block">Supported formats: .jpg, .jpeg, .png, .gif, .bmp</p>
                      </div>
                      <!-- /.attachment-pushed -->
                    </div>

                  </div>

                  <div class="form-group"
                      [ngClass]="{'has-error': (!userEditForm.controls['name'].pristine && userEditForm.controls['name'].errors) }">
                    <label for="user_name">Name</label>
                    <input id="user_name" type="text"
                          class="form-control"
                          name="name"
                          [(ngModel)]="userNewInfo.name"
                          [formControl]="userEditForm.controls['name']" autocomplete="false">
                    <div *ngIf="!userEditForm.controls['name'].pristine && userEditForm.controls['name'].errors">
                      <span *ngIf="userEditForm.controls['name'].errors.required"
                            class="help-block">Name field is required!</span>
                    </div>
                  </div>

                  <div class="form-group"
                      [ngClass]="{'has-error': (!userEditForm.controls['email'].pristine && userEditForm.controls['email'].errors) }">
                    <label for="user_email">Email</label>
                    <input id="user_email"
                          type="email"
                          class="form-control"
                          name="email"
                          [(ngModel)]="userNewInfo.email"
                          [formControl]="userEditForm.controls['email']" autocomplete="false">
                    <div *ngIf="!userEditForm.controls['email'].pristine && userEditForm.controls['email'].errors">
                      <span *ngIf="!userEditForm.controls['email'].valid" class="help-block">Email field is required!</span>
                    </div>
                  </div>

                  <div class="form-group"
                      [ngClass]="{'has-error': (!userEditForm.controls['phone1'].pristine && userEditForm.controls['phone1'].errors) }">
                    <label for="phone1">Phone 1</label>
                    <input id="phone1"
                          type="text"
                          class="form-control"
                          name = "phone1"
                          [(ngModel)]="userNewInfo.phone_1"
                          [formControl]="userEditForm.controls['phone1']" autocomplete="false">
                    <div *ngIf="!userEditForm.controls['phone1'].pristine && userEditForm.controls['phone1'].errors">
                      <span *ngIf="userEditForm.controls['phone1'].errors.required"
                            class="help-block">Name field is required!</span>
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="phone2">Phone 2</label>
                    <input id="phone2"
                          type="text"
                          class="form-control"
                          name = "phone2"
                          [(ngModel)]="userNewInfo.phone_2"
                          [formControl]="userEditForm.controls['phone2']" autocomplete="false">
                  </div>

                  <div class="form-group"
                      [ngClass]="{'has-error': (!userEditForm.controls['role'].pristine && userEditForm.controls['role'].errors) }">
                    <label for="user_role">Role</label>
                    <select id="user_role"
                            class="form-control"
                            [formControl]="userEditForm.controls['role']"
                            name="role"
                            [(ngModel)]="userNewInfo.role_id">
                      <option value="1">{{1 | roleToText}}</option>
                      <option value="2">{{2 | roleToText }}</option>
                      <option value="3">{{3 | roleToText }}</option>
                    </select>
                    <div *ngIf="!userEditForm.controls['role'].pristine && userEditForm.controls['role'].errors">
                      <span *ngIf="!userEditForm.controls['role'].valid">Role field is required!</span>
                    </div>
                  </div>
                </form>
              </div>
              <div class="box-footer">
                <div class="form-group">
                  <button form="userEditForm" type="submit" class="btn btn-info pull-right margin-btn" [disabled]="!userEditForm.valid">
                    Save
                  </button>
                  <button form="userEditForm" type="button" class="btn btn-info pull-right margin-btn" (click)="cancel()" data-dismiss="modal">
                    Cancel
                  </button>
                  <div class="help-block">{{errorMessage}}</div>
                </div>
              </div>
              <div class="overlay" *ngIf="isUserLoading">
                <i class="fa"><loading></loading></i>
              </div>
            </div>
          </div>
        </section>
      </div>
      
    </div>
  </div>
